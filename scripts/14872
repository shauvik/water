{"coscript-json-url":"coscript:http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/api\/script\/14872","koalescence-lite-url":"http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/lite\/script\/14872","coscripter-save-url":"http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/api\/script\/14872","coscript-run-url":"coscriptrun:http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/lite\/script\/14872","modified-at":"2009-03-21T17:17:20Z","creator":{"shortname":"wrestlerfish","name":"wrestlerfish","email":"wrestlerfish"},"coscript-run-json-url":"coscriptrun:http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/api\/script\/14872","body":"* \/\/ functions\n\n\n\n\nfunction refresh()\n\n\n{\n\n\nwindow.location.reload();\n\n\n}\n\n\n\n\n\n\/\/ gets an array of elements of the same class\n\n\n\/\/ from the specified element array, tag name string, and class name \n\n\n\n\n\nfunction getElementsByClassName(oElm, strTagName, strClassName)\n\n\n{\n\n\narrElements = (strTagName == \"*\" && oElm.all) ? oElm.all : oElm.getElementsByTagName(strTagName);\n\n\narrReturnElements = new Array();\n\n\nstrClassName = strClassName.replace(\/\\-\/g, \"\\\\-\");\n\n\noRegExp = new RegExp(\"(^|\\\\s)\" + strClassName + \"(\\\\s|$)\");\n\n\n\n\n\nfor(oElement in arrElements)\n\n\nif(oRegExp.test(oElement.className))\n\n\narrReturnElements.push(oElement);\n\n\n\n\n\nreturn arrReturnElements;\n\n\n}\n\n\n\n\n\nfunction getNumberAvailable(item)\n\n\n{\n\n\nintAlt = getElementsByClassName(item.getElementsByTagName(\"div\"), \"div\", \"interest alternate\")[0];\n\n\navailStrOutOf = intAlt.getElementsByTagName(\"div\")[0];\n\n\navailStr;\n\n\n\n\n\nfor (c in availStrOutOf)\n\n\n{\n\n\nif (c == \" \")\n\n\nbreak;\n\n\n\n\n\navailStr += c;\n\n\n}\n\n\n\n\n\nreturn parseInt(availStr);\n\n\n}\n\n\n\n\n\n\/\/ -------------------------------------------------------------\n\n\n\/\/ script\n\n\n\n\n\nwhile (true)\n\n\n{\n\n\nif (window.location != \"http:\/\/apps.facebook.com\/beatycoon\/empire\/Rare\")\n\n\nwindow.location = \"http:\/\/apps.facebook.com\/beatycoon\/empire\/Rare\";\n\n\n\n\n\nitemArray = getElementsByClassName(getElementsByTagName(\"div\"), \"div\", \"item\");\n\n\n\n\n\nfor (item in itemArray)\n\n\n{\n\n\nif (getNumberAvailable(item) > 0)\n\n\n{\n\n\nclick(getElementsByTagName(\"a\")[1]);\n\n\nalert(\"Item available!\");\n\n\n}\n\n\n}\n\n\n\n\n\nrefresh();\n\n\n}\n","title":"(no title)","json-url":"http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/api\/script\/14872","coscript-url":"coscript:http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/lite\/script\/14872","private":false,"body-html":"<!-- (C) Copyright IBM Corp. 2010 -->\n<ul>\n\t<li>\/\/ functions<\/li>\n<\/ul>\n<p>function refresh()<\/p>\n<p>{<\/p>\n<p>window.location.reload();<\/p>\n<p>}<\/p>\n<p>\/\/ gets an array of elements of the same class<\/p>\n<p>\/\/ from the specified element array, tag name string, and class name<\/p>\n<p>function getElementsByClassName(oElm, strTagName, strClassName)<\/p>\n<p>{<\/p>\n<p>arrElements = (strTagName == &#8220;*&#8221; &amp;&amp; oElm.all) ? oElm.all : oElm.getElementsByTagName(strTagName);<\/p>\n<p>arrReturnElements = new Array();<\/p>\n<p>strClassName = strClassName.replace(\/\\-\/g, &#8220;\\\\-&#8221;);<\/p>\n<p>oRegExp = new RegExp(&#8220;(^|\\\\s)&#8221; + strClassName + &#8220;(\\\\s|$)&#8221;);<\/p>\n<p>for(oElement in arrElements)<\/p>\n<p>if(oRegExp.test(oElement.className))<\/p>\n<p>arrReturnElements.push(oElement);<\/p>\n<p>return arrReturnElements;<\/p>\n<p>}<\/p>\n<p>function getNumberAvailable(item)<\/p>\n<p>{<\/p>\n<p>intAlt = getElementsByClassName(item.getElementsByTagName(&#8220;div&#8221;), &#8220;div&#8221;, &#8220;interest alternate&#8221;)<sup class=\"footnote\"><a href=\"#fn0\">0<\/a><\/sup>;<\/p>\n<p>availStrOutOf = intAlt.getElementsByTagName(&#8220;div&#8221;)<sup class=\"footnote\"><a href=\"#fn0\">0<\/a><\/sup>;<\/p>\n<p>availStr;<\/p>\n<p>for (c in availStrOutOf)<\/p>\n<p>{<\/p>\n<p>if (c == &quot; &quot;)<\/p>\n<p>break;<\/p>\n<p>availStr += c;<\/p>\n<p>}<\/p>\n<p>return parseInt(availStr);<\/p>\n<p>}<\/p>\n<p>\/\/ <del>-<\/del>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n<p>\/\/ script<\/p>\n<p>while (true)<\/p>\n<p>{<\/p>\n<p>if (window.location != &#8220;http:\/\/apps.facebook.com\/beatycoon\/empire\/Rare&#8221;)<\/p>\n<p>window.location = &#8220;http:\/\/apps.facebook.com\/beatycoon\/empire\/Rare&#8221;;<\/p>\n<p>itemArray = getElementsByClassName(getElementsByTagName(&#8220;div&#8221;), &#8220;div&#8221;, &#8220;item&#8221;);<\/p>\n<p>for (item in itemArray)<\/p>\n<p>{<\/p>\n<p>if (getNumberAvailable(item) &gt; 0)<\/p>\n<p>{<\/p>\n<p>click(getElementsByTagName(&#8220;a&#8221;)<sup class=\"footnote\"><a href=\"#fn1\">1<\/a><\/sup>);<\/p>\n<p>alert(&#8220;Item available!&#8221;);<\/p>\n<p>}<\/p>\n<p>}<\/p>\n<p>refresh();<\/p>\n<p>}<\/p>\n","coscripter-wiki-url":"http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/browse\/script\/14872","id":14872,"koalescence-url":"http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/browse\/script\/14872","coscripter-executed-url":"http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/api\/executed","coscripter-url":"http:\/\/coscripter.researchlabs.ibm.com\/coscripter\/lite\/script\/14872"}